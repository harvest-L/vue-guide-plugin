!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-guide-plugin"]=e():t["vue-guide-plugin"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports={default:n(25),__esModule:!0}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";e.__esModule=!0;var i,o=n(2),s=(i=o)&&i.__esModule?i:{default:i};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(s).concat([o]).join("\n")}var r;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(i[s]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&i[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},function(t,e,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=n(24),s={},r=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,u=0,h=!1,f=function(){},c=null,p="data-vue-ssr-id",l="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(t){for(var e=0;e<t.length;e++){var n=t[e],i=s[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(v(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(v(n.parts[o]));s[n.id]={id:n.id,refs:1,parts:r}}}}function g(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function v(t){var e,n,i=document.querySelector("style["+p+'~="'+t.id+'"]');if(i){if(h)return f;i.parentNode.removeChild(i)}if(l){var o=u++;i=a||(a=g()),e=C.bind(null,i,o,!1),n=C.bind(null,i,o,!0)}else i=g(),e=function(t,e){var n=e.css,i=e.media,o=e.sourceMap;i&&t.setAttribute("media",i);c.ssrId&&t.setAttribute(p,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}t.exports=function(t,e,n,i){h=n,c=i||{};var r=o(t,e);return d(r),function(e){for(var n=[],i=0;i<r.length;i++){var a=r[i];(u=s[a.id]).refs--,n.push(u)}e?d(r=o(t,e)):r=[];for(i=0;i<n.length;i++){var u;if(0===(u=n[i]).refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete s[u.id]}}}};var m,y=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function C(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t,e,n,i,o,s){var r,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(r=t,a=t.default);var h,f="function"==typeof a?a.options:a;if(e&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0),n&&(f.functional=!0),o&&(f._scopeId=o),s?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},f._ssrRegister=h):i&&(h=i),h){var c=f.functional,p=c?f.render:f.beforeCreate;c?(f._injectStyles=h,f.render=function(t,e){return h.call(e),p(t,e)}):f.beforeCreate=p?[].concat(p,h):[h]}return{esModule:r,exports:a,options:f}}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),s=n(6),r=n.n(s),a=n(50),u=n.n(a),h=n(51),f=n(18);e.a={props:{autoPlay:{type:Boolean,default:!1},autoTimes:{type:Number,default:5e3},shapeConfig:{type:Object,default:function(){}},clickNext:{type:Boolean,default:!0}},mixins:[f.a],data:function(){return{shape:null,guideShow:!1,focusEl:null,isTrans:!1,shapePos:{}}},created:function(){this._setEventProxy("$$event")},mounted:function(){this._on("show",this.handleShow),this._on("hide",this.handleHide),this._on("contentChange",this.handleContentChange),this._on("stepChange",this.handleStepChange),this._on("start",this.handleStart),this._on("end",this.handleEnd)},computed:{createShapeStyle:function(){var t=this.shape,e=t.width,n=t.height,i=t.top,o=t.left,s=u()(t,["width","height","top","left"]);return r()({width:e+"px",height:n+"px",top:i+"px",left:o+"px"},s)}},methods:{handleStart:function(){this.handleShow(),this.$emit("start")},handleEnd:function(){this.handleHide(),this.$emit("end")},handleShow:function(){this.stopScroll(),this.guideShow=!0},handleHide:function(){this.resetScroll(),this.guideShow=!1},handleContentChange:function(t){this.step=t.step,this.focusEl=t.el,this.focusEl.scrollIntoView({block:"center"});var e=o()(t._shapeConfig,t.shapeConfig);this.shape=this.getShape(e||{})},handleStepChange:function(t){this.step=t.step,this.focusEl=t.el,this.focusEl.scrollIntoView({block:"center"});var e=o()(t._shapeConfig,t.shapeConfig);this.shape=this.getShape(e||{}),this.$emit("stepChange",t.step)},stopScroll:function(){document.documentElement.style.overflow="hidden"},resetScroll:function(){document.documentElement.style.overflow="auto"},getShape:function(t){if(this.focusEl){var e=this.focusEl.getBoundingClientRect(),n=e.top,i=e.left,s=e.width,a=e.height,u=e.bottom,h=e.right;console.log(u);var f=r()({},t);if(f.pad&&"number"==typeof f.pad){var c=Math.floor(f.pad),p=2*c;n-=c,i-=c,s+=p,a+=p,u+=c,h+=c,delete f.pad}return this.shapePos={width:s,height:a,left:i,top:n,bottom:u,right:h},o()({top:n,left:i,width:s,height:a},r()({},f))}return{}},goNext:function(){this.$emit("layerClick"),this.clickNext&&this.$guide.play()}},watch:{shapeConfig:{handler:function(){console.log(this.shapeConfig),this.$$event.$emit("shapeConfigChange",r()({},this.shapeConfig))},immediate:!0},shapePos:{handler:function(t,e){if(!Object(h.a)(t,e)){var n={pos:r()({},this.shapePos),step:this.$guide.getCurrentStep()};this.$emit("shapePos",n),this.$$event.$emit("shapePos",n)}},deep:!0},autoPlay:{handler:function(t){this.$$event.$emit("autoPlayChange",this.autoPlay)},immediate:!0},autoPlayTimes:{handler:function(t){this.$$event.$emit("autoPlayTimes",this.autoPlayTimes)},immediate:!0}}}},function(t,e,n){var i=n(3),o=n(0),s=n(27),r=n(29),a=n(13),u=function(t,e,n){var h,f,c,p=t&u.F,l=t&u.G,d=t&u.S,g=t&u.P,v=t&u.B,m=t&u.W,y=l?o:o[e]||(o[e]={}),C=y.prototype,A=l?i:d?i[e]:(i[e]||{}).prototype;for(h in l&&(n=e),n)(f=!p&&A&&void 0!==A[h])&&a(y,h)||(c=f?A[h]:n[h],y[h]=l&&"function"!=typeof A[h]?n[h]:v&&f?s(c,i):m&&A[h]==c?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):g&&"function"==typeof c?s(Function.call,c):c,g&&((y.virtual||(y.virtual={}))[h]=c,t&u.R&&C&&!C[h]&&r(C,h,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var i=n(30),o=n(31),s=n(33),r=Object.defineProperty;e.f=n(1)?Object.defineProperty:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(15),o=n(16);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(38);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";e.a={data:function(){return{_events:{},__ec:null}},methods:{_on:function(t,e){this._events.eventName?(this._events.eventName.push(e),this.__ec.$on(t,e)):(this._events.eventName=[e],this.__ec.$on(t,e))},_off:function(){var t=this,e=function(e){t._events[e].forEach(function(n){t.__ec.$off(e,n)})};for(var n in this._events)e(n)},_setEventProxy:function(t){this.__ec=this[t]}},beforeDestory:function(){this.__off()}}},function(t,e,n){"use strict";var i=n(6),o=n.n(i),s=n(18);e.a={mixins:[s.a],props:{step:{type:Number|String,default:null},autoPlay:{type:Boolean,default:!1},autoTimes:{type:Number,default:5e3},shapeConfig:{type:Object,default:function(){}}},data:function(){return{show:!1}},created:function(){this._setEventProxy("$$event");var t=this.$guide.getCurrentStep();this.changeShow(t),this._on("stepChange",this.handleStepChange),this._on("shapePos",this.emitPos)},watch:{shapeConfig:{handler:function(){console.log(this.shapeConfig),this.$$event.$emit("shapeConfigChange",o()({},this.shapeConfig),this.step)},immediate:!0}},methods:{changeShow:function(t){t===this.step?this.show=!0:this.show=!1},handleStepChange:function(t){this.changeShow(t.step)},emitPos:function(t){t.step===this.step&&this.$emit("shapePos",t.pos)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),o=n(55),s=n(59);e.default={install:function(t,e){var n=new t,r=new s.a({vueInstance:n,options:e});t.prototype.$guide=r,t.prototype.$$event=n,t.directive("guide",{bind:function(t,e){var n=e.rawName.split(".")[1];r.add({step:Number(n),el:t})},componentUpdated:function(t,e){if(!r.isRender){var n=e.rawName.split(".")[1];r._update({step:Number(n),el:t})}}}),t.component("TuiaGuide",i.a),t.component("TuiaGuideStep",o.a)}}},function(t,e,n){"use strict";var i=n(10),o=n(54),s=!1;var r=function(t){s||n(22)},a=n(9)(i.a,o.a,!1,r,null,null);a.options.__file="src/lib/core/Guide.vue",e.a=a.exports},function(t,e,n){var i=n(23);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(8)("1fec9e8d",i,!1,{})},function(t,e,n){(t.exports=n(7)(!0)).push([t.i,"\n#vue-ff-guide {\n  position:fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 99999;\n}\n.ff-guide-event-shape {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 1;\n  background: transparent\n}\n.ff-guide-focus-shape {\n  position: absolute;\n  -webkit-box-shadow: 0px 0px 0px 1000px rgba(0, 0, 0, .8);\n          box-shadow: 0px 0px 0px 1000px rgba(0, 0, 0, .8);\n  background: transparent;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n  z-index:2;\n}\n.ff-guide-extra {\n  position: absolute;\n  z-index: 3;\n  width: 100%;\n  height: 100%;\n}\n","",{version:3,sources:["/Users/liupengfei/work/vue-guide-plugin/src/lib/core/src/lib/core/Guide.vue"],names:[],mappings:";AAuLA;EACA,eAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,aAAA;EACA,eAAA;CACA;AACA;EACA,YAAA;EACA,aAAA;EACA,mBAAA;EACA,WAAA;EACA,uBAAA;CACA;AACA;EACA,mBAAA;EACA,yDAAA;UAAA,iDAAA;EACA,wBAAA;EACA,6BAAA;EAAA,qBAAA;EACA,UAAA;CACA;AACA;EACA,mBAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;CACA",file:"Guide.vue",sourcesContent:["\x3c!--\n * @Author: flyharvest\n * @Date: 2020-05-24 15:59:23\n * @LastEditTime: 2020-05-30 18:01:20\n * @LastEditors: flyharvest\n--\x3e\n<template>\n  <div id=\"vue-ff-guide\" v-if=\"guideShow\">\n    <div class=\"ff-guide-focus-shape\"\n      :style=\"createShapeStyle\"\n      v-if=\"focusEl\">\n    </div>\n    <div class=\"ff-guide-extra\" @click=\"goNext\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { isEqualObj } from './util'\nimport eventMixin from './eventMixin'\n\nexport default {\n  props: {\n    autoPlay: {\n      type: Boolean,\n      default: false\n    },\n    autoTimes: {\n      type: Number,\n      default: 5000\n    },\n    shapeConfig: {\n      type: Object,\n      default: () => {}\n    },\n    clickNext: {\n      type: Boolean,\n      default: true\n    }\n  },\n  mixins: [eventMixin],\n  data () {\n    return {\n      shape: null,\n      guideShow: false,\n      focusEl: null,\n      isTrans: false,\n      shapePos: {}\n    }\n  },\n  created () {\n    this._setEventProxy('$$event')\n  },\n  mounted () {\n    this._on('show', this.handleShow)\n    this._on('hide', this.handleHide)\n    this._on('contentChange', this.handleContentChange)\n    this._on('stepChange', this.handleStepChange)\n    this._on('start', this.handleStart)\n    this._on('end', this.handleEnd)\n  },\n  computed: {\n    createShapeStyle () {\n      let {width, height, top, left, ...others} = this.shape\n      return {\n        width: width + 'px',\n        height: height + 'px',\n        top: top + 'px',\n        left: left + 'px',\n        ...others\n      }\n    }\n  },\n  methods: {\n    handleStart () {\n      this.handleShow()\n      this.$emit('start')\n    },\n    handleEnd () {\n      this.handleHide()\n      this.$emit('end')\n    },\n    handleShow () {\n      this.stopScroll()\n      this.guideShow = true\n    },\n    handleHide () {\n      this.resetScroll()\n      this.guideShow = false\n    },\n    handleContentChange (config) {\n      this.step = config.step\n      this.focusEl = config.el\n      this.focusEl.scrollIntoView({\n        block: 'center'\n      })\n      const shapeConfig = Object.assign(config._shapeConfig, config.shapeConfig)\n      this.shape = this.getShape(shapeConfig || {})\n    },\n    handleStepChange (config) {\n      this.step = config.step\n      this.focusEl = config.el\n      this.focusEl.scrollIntoView({\n        block: 'center'\n      })\n      const shapeConfig = Object.assign(config._shapeConfig, config.shapeConfig)\n      this.shape = this.getShape(shapeConfig || {})\n      this.$emit('stepChange', config.step)\n    },\n    stopScroll () {\n      document.documentElement.style.overflow = 'hidden'\n    },\n    resetScroll () {\n      document.documentElement.style.overflow = 'auto'\n    },\n    getShape (shapeConfig) {\n      if (this.focusEl) {\n        let {top, left, width, height, bottom, right} = this.focusEl.getBoundingClientRect()\n        console.log(bottom)\n        const userConfig = {...shapeConfig}\n        if (userConfig.pad && typeof userConfig.pad === 'number') {\n          const pad = Math.floor(userConfig.pad)\n          const pad2 = 2 * pad\n          top -= pad\n          left -= pad\n          width += pad2\n          height += pad2\n          bottom += pad\n          right += pad\n          delete userConfig.pad\n        }\n        this.shapePos = {width, height, left, top, bottom, right}\n        return Object.assign({top, left, width, height}, {...userConfig})\n      }\n      return {}\n    },\n    goNext () {\n      this.$emit('layerClick')\n      if (this.clickNext) {\n        this.$guide.play()\n      }\n    }\n  },\n  watch: {\n    shapeConfig: {\n      handler () {\n        console.log(this.shapeConfig)\n        this.$$event.$emit('shapeConfigChange', {...this.shapeConfig})\n      },\n      immediate: true\n    },\n    shapePos: {\n      handler (newValue, oldValue) {\n        if (isEqualObj(newValue, oldValue)) {\n          return\n        }\n        const playload = {\n          pos: {...this.shapePos},\n          step: this.$guide.getCurrentStep()\n        }\n        this.$emit('shapePos', playload)\n        this.$$event.$emit('shapePos', playload)\n      },\n      deep: true\n    },\n    autoPlay: {\n      handler (value) {\n        this.$$event.$emit('autoPlayChange', this.autoPlay)\n      },\n      immediate: true\n    },\n    autoPlayTimes: {\n      handler (value) {\n        this.$$event.$emit('autoPlayTimes', this.autoPlayTimes)\n      },\n      immediate: true\n    }\n  }\n}\n<\/script>\n\n<style>\n#vue-ff-guide {\n  position:fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 99999;\n}\n.ff-guide-event-shape {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 1;\n  background: transparent\n}\n.ff-guide-focus-shape {\n  position: absolute;\n  box-shadow: 0px 0px 0px 1000px rgba(0, 0, 0, .8);\n  background: transparent;\n  transition: all 0.3s;\n  z-index:2;\n}\n.ff-guide-extra {\n  position: absolute;\n  z-index: 3;\n  width: 100%;\n  height: 100%;\n}\n</style>\n"],sourceRoot:""}])},function(t,e){t.exports=function(t,e){for(var n=[],i={},o=0;o<e.length;o++){var s=e[o],r=s[0],a={id:t+":"+o,css:s[1],media:s[2],sourceMap:s[3]};i[r]?i[r].parts.push(a):n.push(i[r]={id:r,parts:[a]})}return n}},function(t,e,n){n(26),t.exports=n(0).Object.assign},function(t,e,n){var i=n(11);i(i.S+i.F,"Object",{assign:n(35)})},function(t,e,n){var i=n(28);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(12),o=n(34);t.exports=n(1)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(4);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(1)&&!n(5)(function(){return 7!=Object.defineProperty(n(32)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(4),o=n(3).document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(1),o=n(36),s=n(47),r=n(48),a=n(49),u=n(15),h=Object.assign;t.exports=!h||n(5)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=h({},t)[n]||Object.keys(h({},e)).join("")!=i})?function(t,e){for(var n=a(t),h=arguments.length,f=1,c=s.f,p=r.f;h>f;)for(var l,d=u(arguments[f++]),g=c?o(d).concat(c(d)):o(d),v=g.length,m=0;v>m;)l=g[m++],i&&!p.call(d,l)||(n[l]=d[l]);return n}:h},function(t,e,n){var i=n(37),o=n(46);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(13),o=n(14),s=n(39)(!1),r=n(42)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,h=[];for(n in a)n!=r&&i(a,n)&&h.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~s(h,n)||h.push(n));return h}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(14),o=n(40),s=n(41);t.exports=function(t){return function(e,n,r){var a,u=i(e),h=o(u.length),f=s(r,h);if(t&&n!=n){for(;h>f;)if((a=u[f++])!=a)return!0}else for(;h>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var i=n(17),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(17),o=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):s(t,e)}},function(t,e,n){var i=n(43)("keys"),o=n(45);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(0),o=n(3),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(44)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(16);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}},function(t,e,n){"use strict";e.a=function(t,e){return s(t)&&s(e)&&o()(t)===o()(e)};var i=n(52),o=n.n(i);function s(t){return null!==t&&"[object Object]"===Object.prototype.toString(t)}},function(t,e,n){t.exports={default:n(53),__esModule:!0}},function(t,e,n){var i=n(0),o=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.guideShow?n("div",{attrs:{id:"vue-ff-guide"}},[t.focusEl?n("div",{staticClass:"ff-guide-focus-shape",style:t.createShapeStyle}):t._e(),t._v(" "),n("div",{staticClass:"ff-guide-extra",on:{click:t.goNext}},[t._t("default")],2)]):t._e()};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},function(t,e,n){"use strict";var i=n(19),o=n(58),s=!1;var r=function(t){s||n(56)},a=n(9)(i.a,o.a,!1,r,null,null);a.options.__file="src/lib/core/Step.vue",e.a=a.exports},function(t,e,n){var i=n(57);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(8)("1edca8ca",i,!1,{})},function(t,e,n){(t.exports=n(7)(!0)).push([t.i,"\n.ff-step-content {\n  position: absolute;\n  z-index: 4;\n  width: 100%;\n  height: 100%;\n}\n","",{version:3,sources:["/Users/liupengfei/work/vue-guide-plugin/src/lib/core/src/lib/core/Step.vue"],names:[],mappings:";AA6EA;EACA,mBAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;CACA",file:"Step.vue",sourcesContent:["\x3c!--\n * @Author: flyharvest\n * @Date: 2020-05-25 16:53:28\n * @LastEditTime: 2020-05-30 17:38:19\n * @LastEditors: flyharvest\n--\x3e\n<template>\n  <div v-if=\"show\" class=\"ff-step-content\">\n    <slot></slot>\n  </div>\n</template>\n\n<script >\nimport eventMixin from './eventMixin.js'\n\nexport default {\n  mixins: [ eventMixin ],\n  props: {\n    step: {\n      type: Number | String,\n      default: null\n    },\n    autoPlay: {\n      type: Boolean,\n      default: false\n    },\n    autoTimes: {\n      type: Number,\n      default: 5000\n    },\n    shapeConfig: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data () {\n    return {\n      show: false\n    }\n  },\n  created () {\n    this._setEventProxy('$$event')\n    const step = this.$guide.getCurrentStep()\n    this.changeShow(step)\n    this._on('stepChange', this.handleStepChange)\n    this._on('shapePos', this.emitPos)\n  },\n  watch: {\n    shapeConfig: {\n      handler () {\n        console.log(this.shapeConfig)\n        this.$$event.$emit('shapeConfigChange', {...this.shapeConfig}, this.step)\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    changeShow (step) {\n      if (step === this.step) {\n        this.show = true\n      } else {\n        this.show = false\n      }\n    },\n    handleStepChange (config) {\n      this.changeShow(config.step)\n    },\n    emitPos (config) {\n      if (config.step === this.step) {\n        this.$emit('shapePos', config.pos)\n      }\n    }\n  }\n}\n<\/script>\n\n<style>\n.ff-step-content {\n  position: absolute;\n  z-index: 4;\n  width: 100%;\n  height: 100%;\n}\n</style>\n"],sourceRoot:""}])},function(t,e,n){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return this.show?e("div",{staticClass:"ff-step-content"},[this._t("default")],2):this._e()};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(6),o=n.n(i),s=n(2),r=n.n(s),a=n(60),u=n.n(a),h=n(61),f=n.n(h),c=function(){function t(e){var n=this,i=e.vueInstance;e.options;u()(this,t),this.step=0,this.steps={},this.vue=i,this.started=!1,this.isRender=!1,this.ended=!1,this.autoPlay=!1,this.autoTimes=5e3,this.timer=null,this.shape=null,this.shapeConfig={},this.vue.$on("shapeConfigChange",function(t,e){e?n.setShapeConfig(t,e):n.shapeConfig=t}),this.vue.$on("autoPlayChange",function(t){n.autoPlay=!0}),this.vue.$on("autoTimesChange",function(t){n.autoTimes=t})}return f()(t,[{key:"_mixConfig",value:function(t){var e=this.getStepConfig(t);return e?r()({_shapeConfig:o()({},this.shapeConfig)},o()({},e)):{}}},{key:"_setStepNum",value:function(t){t?this.step=t:this.step+=1}},{key:"_canMoveNext",value:function(t){return t?this.getStepConfig(t):(t=this.step+1,this.getStepConfig(t))}},{key:"add",value:function(t){var e=t.step,n=this.getStepConfig(e);this.steps["step"+e]=n?r()(t,n):t}},{key:"getCurrentStep",value:function(){return this.step}},{key:"getStepConfig",value:function(t){return t?this.steps["step"+t]:this.steps["step"+this.step]}},{key:"setShapeConfig",value:function(t,e){var n=e||this.step;this.steps["step"+n]&&(this.steps["step"+n].shapeConfig=t)}},{key:"_next",value:function(t){var e=this;if(this._canMoveNext(t)){this.isRender=!0,this._setStepNum(t);var n=this.getStepConfig();(n.auto||this.autoPlay)&&(this.timer=setTimeout(function(){e._next()},n.autoTimes||this.autoTimes)),this.vue.$emit("stepChange",this._mixConfig(t)),this.vue.$nextTick(function(){e.isRender=!1})}else this.vue.$emit("end")}},{key:"start",value:function(t){var e=this;this._started||(this.vue.$emit("start"),this.vue.$nextTick(function(){e._next(t)}))}},{key:"_update",value:function(t){this.add(t),this.step===t.step&&this.vue.$emit("contentChange",this._mixConfig(t.step))}},{key:"play",value:function(t){this.timer&&clearTimeout(this.timer),this.started?this._next(t):(this.started=!0,this.start(t))}},{key:"$on",value:function(){var t;(t=this.vue).$on.apply(t,arguments)}},{key:"$emit",value:function(){var t;(t=this.vue).$emit.apply(t,arguments)}},{key:"hide",value:function(){this.timer&&clearTimeout(this.timer),this.vue.$emit("guideHide")}},{key:"show",value:function(){this.vue.$emit("guideShow")}},{key:"reset",value:function(){this.step=0}},{key:"getShape",value:function(){return this.shape}}]),t}()},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i,o=n(62),s=(i=o)&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,s.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){t.exports={default:n(63),__esModule:!0}},function(t,e,n){n(64);var i=n(0).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(11);i(i.S+i.F*!n(1),"Object",{defineProperty:n(12).f})}])});
//# sourceMappingURL=index.js.map